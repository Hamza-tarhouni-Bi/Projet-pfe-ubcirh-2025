{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mega-PC\\\\Projet-pfe-ubcirh25\\\\Frontend\\\\src\\\\components\\\\Cards\\\\CardDemandeConge.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport styled, { keyframes } from 'styled-components';\nimport { FiUpload, FiX, FiCheckCircle } from 'react-icons/fi';\n\n// Animations\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\nconst fadeOut = keyframes`\n  from { opacity: 1; }\n  to { opacity: 0; }\n`;\n\n// Composants stylisés\nconst Container = styled.div`\n  max-width: 800px;\n  margin: 2rem auto;\n  padding: 2rem;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n  animation: ${fadeIn} 0.3s ease-out;\n`;\n_c = Container;\nconst Title = styled.h2`\n  color: #2c3e50;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  font-size: 1.8rem;\n  font-weight: 600;\n`;\n_c2 = Title;\nconst FormGroup = styled.div`\n  margin-bottom: 1.5rem;\n`;\n_c3 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  color: #34495e;\n  font-size: 0.95rem;\n`;\n_c4 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 0.75rem 1rem;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: all 0.3s;\n\n  &:focus {\n    border-color: #3498db;\n    box-shadow: 0 0 0 3px rgba(52,152,219,0.1);\n    outline: none;\n  }\n`;\n_c5 = Input;\nconst TextArea = styled.textarea`\n  ${Input}\n  min-height: 100px;\n  resize: vertical;\n`;\n_c6 = TextArea;\nconst Select = styled.select`\n  ${Input}\n  appearance: none;\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-position: right 1rem center;\n  background-size: 1rem;\n`;\n_c7 = Select;\nconst FileInputContainer = styled.div`\n  position: relative;\n  margin-top: 0.5rem;\n`;\n_c8 = FileInputContainer;\nconst FileLabel = styled.label`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n  background-color: #f8f9fa;\n  border: 2px dashed #adb5bd;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n  gap: 0.5rem;\n\n  &:hover {\n    border-color: #3498db;\n    background-color: #f1f8fe;\n  }\n`;\n_c9 = FileLabel;\nconst FileName = styled.div`\n  margin-top: 0.5rem;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #2c3e50;\n`;\n_c10 = FileName;\nconst Button = styled.button`\n  width: 100%;\n  padding: 0.75rem;\n  background-color: #3498db;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background-color: #2980b9;\n  }\n\n  &:disabled {\n    background-color: #bdc3c7;\n    cursor: not-allowed;\n  }\n`;\n_c11 = Button;\nconst Alert = styled.div`\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  animation: ${fadeIn} 0.3s;\n\n  ${({\n  type\n}) => type === 'error' ? `background-color: #e74c3c;` : `background-color: #2ecc71;`}\n`;\n_c12 = Alert;\nconst Toast = styled.div`\n  position: fixed;\n  bottom: 2rem;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #27ae60;\n  color: white;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  animation: ${fadeIn} 0.3s, ${fadeOut} 0.3s 2.7s forwards;\n`;\n_c13 = Toast;\nconst CardDemandeConge = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    reason: '',\n    type: 'congé payé',\n    medicalFile: null\n  });\n  const [fileName, setFileName] = useState('');\n  const fileInputRef = useRef(null);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [confirmationMessage, setConfirmationMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({\n    show: false,\n    type: '',\n    message: ''\n  });\n  const [userInfo, setUserInfo] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n      try {\n        const response = await axios.get('/api/personnel/info', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setUserInfo(response.data);\n      } catch (error) {\n        console.error('Erreur récupération infos utilisateur:', error);\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n    fetchUserInfo();\n  }, [navigate]);\n  const calculateDays = () => {\n    if (!formData.startDate || !formData.endDate) return 0;\n    const start = new Date(formData.startDate);\n    const end = new Date(formData.endDate);\n    if (start > end) return 0;\n    const diffTime = Math.abs(end - start);\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n  };\n  const validateDates = () => {\n    if (!formData.startDate || !formData.endDate) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'Les dates de début et de fin sont obligatoires'\n      });\n      return false;\n    }\n    const start = new Date(formData.startDate);\n    const end = new Date(formData.endDate);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    if (start < today) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'La date de début ne peut pas être dans le passé'\n      });\n      return false;\n    }\n    if (start > end) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'La date de fin doit être après la date de début'\n      });\n      return false;\n    }\n    return true;\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (file.size > 5 * 1024 * 1024) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'Le fichier ne doit pas dépasser 5MB'\n      });\n      return;\n    }\n    const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\n    if (!allowedTypes.includes(file.type)) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'Format de fichier non supporté (seuls JPG, PNG, PDF sont acceptés)'\n      });\n      return;\n    }\n    setFormData(prev => ({\n      ...prev,\n      medicalFile: file\n    }));\n    setFileName(file.name);\n  };\n  const removeFile = () => {\n    setFormData(prev => ({\n      ...prev,\n      medicalFile: null\n    }));\n    setFileName('');\n    fileInputRef.current.value = '';\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    if (!validateDates()) {\n      setLoading(false);\n      return;\n    }\n    if (!formData.reason || !formData.type) {\n      setAlert({\n        show: true,\n        type: 'error',\n        message: 'Veuillez remplir tous les champs obligatoires'\n      });\n      setLoading(false);\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const formDataToSend = new FormData();\n      formDataToSend.append('startDate', formData.startDate);\n      formDataToSend.append('endDate', formData.endDate);\n      formDataToSend.append('type', formData.type);\n      formDataToSend.append('reason', formData.reason);\n      if (formData.medicalFile) {\n        formDataToSend.append('medicalFile', formData.medicalFile);\n      }\n      const response = await axios.post('/adddemandeconge', formDataToSend, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setFormData({\n        startDate: '',\n        endDate: '',\n        reason: '',\n        type: 'congé payé',\n        medicalFile: null\n      });\n      setFileName('');\n      setConfirmationMessage(response.data.message || 'Demande envoyée avec succès');\n      setShowConfirmation(true);\n      setTimeout(() => setShowConfirmation(false), 3000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Erreur:', error);\n      setAlert({\n        show: true,\n        type: 'error',\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'Une erreur est survenue lors de la soumission'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Nouvelle demande de cong\\xE9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), alert.show && /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: alert.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setAlert({\n          show: false,\n          type: '',\n          message: ''\n        }),\n        style: {\n          background: 'none',\n          border: 'none',\n          color: 'white',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(FiX, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Date de d\\xE9but *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"date\",\n            name: \"startDate\",\n            value: formData.startDate,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Date de fin *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"date\",\n            name: \"endDate\",\n            value: formData.endDate,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#7f8c8d',\n              fontSize: '0.85rem'\n            },\n            children: [\"Dur\\xE9e: \", calculateDays(), \" jour(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Type de cong\\xE9 *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          name: \"type\",\n          value: formData.type,\n          onChange: handleInputChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cong\\xE9 pay\\xE9\",\n            children: \"Cong\\xE9 pay\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cong\\xE9 maladie\",\n            children: \"Cong\\xE9 maladie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cong\\xE9 sans solde\",\n            children: \"Cong\\xE9 sans solde\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Motif *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          name: \"reason\",\n          value: formData.reason,\n          onChange: handleInputChange,\n          required: true,\n          placeholder: \"Veuillez d\\xE9crire la raison de votre demande...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), formData.type === 'congé maladie' && /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Justificatif m\\xE9dical\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FileInputContainer, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileChange,\n            accept: \".pdf,.jpg,.jpeg,.png\",\n            style: {\n              display: 'none'\n            },\n            id: \"medicalFile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FileLabel, {\n            htmlFor: \"medicalFile\",\n            children: [/*#__PURE__*/_jsxDEV(FiUpload, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), fileName || 'Choisir un fichier (PDF, JPG, PNG - max 5MB)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), fileName && /*#__PURE__*/_jsxDEV(FileName, {\n            children: [fileName, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: removeFile,\n              style: {\n                background: 'none',\n                border: 'none',\n                color: '#e74c3c',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(FiX, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner-border spinner-border-sm\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), \"Envoi en cours...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this), \"Soumettre la demande\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), showConfirmation && /*#__PURE__*/_jsxDEV(Toast, {\n      children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, this), confirmationMessage]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n_s(CardDemandeConge, \"bim8LmncugeITBFYo0Msr89gFfg=\", false, function () {\n  return [useNavigate];\n});\n_c14 = CardDemandeConge;\nexport default CardDemandeConge;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"FormGroup\");\n$RefreshReg$(_c4, \"Label\");\n$RefreshReg$(_c5, \"Input\");\n$RefreshReg$(_c6, \"TextArea\");\n$RefreshReg$(_c7, \"Select\");\n$RefreshReg$(_c8, \"FileInputContainer\");\n$RefreshReg$(_c9, \"FileLabel\");\n$RefreshReg$(_c10, \"FileName\");\n$RefreshReg$(_c11, \"Button\");\n$RefreshReg$(_c12, \"Alert\");\n$RefreshReg$(_c13, \"Toast\");\n$RefreshReg$(_c14, \"CardDemandeConge\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","useNavigate","styled","keyframes","FiUpload","FiX","FiCheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","fadeIn","fadeOut","Container","div","_c","Title","h2","_c2","FormGroup","_c3","Label","label","_c4","Input","input","_c5","TextArea","textarea","_c6","Select","select","_c7","FileInputContainer","_c8","FileLabel","_c9","FileName","_c10","Button","button","_c11","Alert","type","_c12","Toast","_c13","CardDemandeConge","_s","navigate","formData","setFormData","startDate","endDate","reason","medicalFile","fileName","setFileName","fileInputRef","showConfirmation","setShowConfirmation","confirmationMessage","setConfirmationMessage","loading","setLoading","alert","setAlert","show","message","userInfo","setUserInfo","fetchUserInfo","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","removeItem","calculateDays","start","Date","end","diffTime","Math","abs","ceil","validateDates","today","setHours","handleInputChange","e","name","value","target","prev","handleFileChange","file","files","size","allowedTypes","includes","removeFile","current","handleSubmit","preventDefault","formDataToSend","FormData","append","post","setTimeout","_error$response","_error$response$data","children","_jsxFileName","lineNumber","columnNumber","onClick","style","background","border","color","cursor","onSubmit","display","gridTemplateColumns","gap","onChange","required","fontSize","placeholder","ref","accept","id","htmlFor","alignItems","disabled","className","role","_c14","$RefreshReg$"],"sources":["C:/Users/Mega-PC/Projet-pfe-ubcirh25/Frontend/src/components/Cards/CardDemandeConge.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { FiUpload, FiX, FiCheckCircle } from 'react-icons/fi';\r\n\r\n// Animations\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; transform: translateY(20px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n`;\r\n\r\nconst fadeOut = keyframes`\r\n  from { opacity: 1; }\r\n  to { opacity: 0; }\r\n`;\r\n\r\n// Composants stylisés\r\nconst Container = styled.div`\r\n  max-width: 800px;\r\n  margin: 2rem auto;\r\n  padding: 2rem;\r\n  background: #fff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0,0,0,0.08);\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  color: #2c3e50;\r\n  margin-bottom: 1.5rem;\r\n  text-align: center;\r\n  font-size: 1.8rem;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: 600;\r\n  color: #34495e;\r\n  font-size: 0.95rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 0.75rem 1rem;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s;\r\n\r\n  &:focus {\r\n    border-color: #3498db;\r\n    box-shadow: 0 0 0 3px rgba(52,152,219,0.1);\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  ${Input}\r\n  min-height: 100px;\r\n  resize: vertical;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  ${Input}\r\n  appearance: none;\r\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e\");\r\n  background-repeat: no-repeat;\r\n  background-position: right 1rem center;\r\n  background-size: 1rem;\r\n`;\r\n\r\nconst FileInputContainer = styled.div`\r\n  position: relative;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst FileLabel = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n  background-color: #f8f9fa;\r\n  border: 2px dashed #adb5bd;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  gap: 0.5rem;\r\n\r\n  &:hover {\r\n    border-color: #3498db;\r\n    background-color: #f1f8fe;\r\n  }\r\n`;\r\n\r\nconst FileName = styled.div`\r\n  margin-top: 0.5rem;\r\n  font-size: 0.9rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #2c3e50;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  background-color: #3498db;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n\r\n  &:hover {\r\n    background-color: #2980b9;\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: #bdc3c7;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst Alert = styled.div`\r\n  padding: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  border-radius: 8px;\r\n  color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  animation: ${fadeIn} 0.3s;\r\n\r\n  ${({ type }) => \r\n    type === 'error' \r\n      ? `background-color: #e74c3c;` \r\n      : `background-color: #2ecc71;`\r\n  }\r\n`;\r\n\r\nconst Toast = styled.div`\r\n  position: fixed;\r\n  bottom: 2rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: #27ae60;\r\n  color: white;\r\n  padding: 1rem 2rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  animation: ${fadeIn} 0.3s, ${fadeOut} 0.3s 2.7s forwards;\r\n`;\r\n\r\nconst CardDemandeConge = () => {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    reason: '',\r\n    type: 'congé payé',\r\n    medicalFile: null\r\n  });\r\n  \r\n  const [fileName, setFileName] = useState('');\r\n  const fileInputRef = useRef(null);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [confirmationMessage, setConfirmationMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [alert, setAlert] = useState({ show: false, type: '', message: '' });\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUserInfo = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get('/api/personnel/info', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setUserInfo(response.data);\r\n      } catch (error) {\r\n        console.error('Erreur récupération infos utilisateur:', error);\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n      }\r\n    };\r\n\r\n    fetchUserInfo();\r\n  }, [navigate]);\r\n\r\n  const calculateDays = () => {\r\n    if (!formData.startDate || !formData.endDate) return 0;\r\n\r\n    const start = new Date(formData.startDate);\r\n    const end = new Date(formData.endDate);\r\n    \r\n    if (start > end) return 0;\r\n\r\n    const diffTime = Math.abs(end - start);\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\r\n  };\r\n\r\n  const validateDates = () => {\r\n    if (!formData.startDate || !formData.endDate) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'Les dates de début et de fin sont obligatoires'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    const start = new Date(formData.startDate);\r\n    const end = new Date(formData.endDate);\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n\r\n    if (start < today) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'La date de début ne peut pas être dans le passé'\r\n      });\r\n      return false;\r\n    }\r\n    \r\n    if (start > end) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'La date de fin doit être après la date de début'\r\n      });\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'Le fichier ne doit pas dépasser 5MB'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'Format de fichier non supporté (seuls JPG, PNG, PDF sont acceptés)'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    setFormData(prev => ({ ...prev, medicalFile: file }));\r\n    setFileName(file.name);\r\n  };\r\n\r\n  const removeFile = () => {\r\n    setFormData(prev => ({ ...prev, medicalFile: null }));\r\n    setFileName('');\r\n    fileInputRef.current.value = '';\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (!validateDates()) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!formData.reason || !formData.type) {\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: 'Veuillez remplir tous les champs obligatoires'\r\n      });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formDataToSend = new FormData();\r\n      \r\n      formDataToSend.append('startDate', formData.startDate);\r\n      formDataToSend.append('endDate', formData.endDate);\r\n      formDataToSend.append('type', formData.type);\r\n      formDataToSend.append('reason', formData.reason);\r\n      \r\n      if (formData.medicalFile) {\r\n        formDataToSend.append('medicalFile', formData.medicalFile);\r\n      }\r\n\r\n      const response = await axios.post('/adddemandeconge', formDataToSend, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      setFormData({\r\n        startDate: '',\r\n        endDate: '',\r\n        reason: '',\r\n        type: 'congé payé',\r\n        medicalFile: null\r\n      });\r\n      setFileName('');\r\n      \r\n      setConfirmationMessage(response.data.message || 'Demande envoyée avec succès');\r\n      setShowConfirmation(true);\r\n      setTimeout(() => setShowConfirmation(false), 3000);\r\n\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      setAlert({\r\n        show: true,\r\n        type: 'error',\r\n        message: error.response?.data?.message || \r\n               error.message || \r\n               'Une erreur est survenue lors de la soumission'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Title>Nouvelle demande de congé</Title>\r\n      \r\n      {alert.show && (\r\n        <Alert type={alert.type}>\r\n          <span>{alert.message}</span>\r\n          <button \r\n            onClick={() => setAlert({ show: false, type: '', message: '' })}\r\n            style={{ background: 'none', border: 'none', color: 'white', cursor: 'pointer' }}\r\n          >\r\n            <FiX size={20} />\r\n          </button>\r\n        </Alert>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\r\n          <FormGroup>\r\n            <Label>Date de début *</Label>\r\n            <Input\r\n              type=\"date\"\r\n              name=\"startDate\"\r\n              value={formData.startDate}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Date de fin *</Label>\r\n            <Input\r\n              type=\"date\"\r\n              name=\"endDate\"\r\n              value={formData.endDate}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n            <small style={{ color: '#7f8c8d', fontSize: '0.85rem' }}>\r\n              Durée: {calculateDays()} jour(s)\r\n            </small>\r\n          </FormGroup>\r\n        </div>\r\n\r\n        <FormGroup>\r\n          <Label>Type de congé *</Label>\r\n          <Select\r\n            name=\"type\"\r\n            value={formData.type}\r\n            onChange={handleInputChange}\r\n            required\r\n          >\r\n            <option value=\"congé payé\">Congé payé</option>\r\n            <option value=\"congé maladie\">Congé maladie</option>\r\n            <option value=\"congé sans solde\">Congé sans solde</option>\r\n          </Select>\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Motif *</Label>\r\n          <TextArea\r\n            name=\"reason\"\r\n            value={formData.reason}\r\n            onChange={handleInputChange}\r\n            required\r\n            placeholder=\"Veuillez décrire la raison de votre demande...\"\r\n          />\r\n        </FormGroup>\r\n\r\n        {formData.type === 'congé maladie' && (\r\n          <FormGroup>\r\n            <Label>Justificatif médical</Label>\r\n            <FileInputContainer>\r\n              <input\r\n                type=\"file\"\r\n                ref={fileInputRef}\r\n                onChange={handleFileChange}\r\n                accept=\".pdf,.jpg,.jpeg,.png\"\r\n                style={{ display: 'none' }}\r\n                id=\"medicalFile\"\r\n              />\r\n              <FileLabel htmlFor=\"medicalFile\">\r\n                <FiUpload />\r\n                {fileName || 'Choisir un fichier (PDF, JPG, PNG - max 5MB)'}\r\n              </FileLabel>\r\n              {fileName && (\r\n                <FileName>\r\n                  {fileName}\r\n                  <button \r\n                    onClick={removeFile}\r\n                    style={{ \r\n                      background: 'none', \r\n                      border: 'none', \r\n                      color: '#e74c3c', \r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center'\r\n                    }}\r\n                  >\r\n                    <FiX size={16} />\r\n                  </button>\r\n                </FileName>\r\n              )}\r\n            </FileInputContainer>\r\n          </FormGroup>\r\n        )}\r\n\r\n        <FormGroup>\r\n          <Button type=\"submit\" disabled={loading}>\r\n            {loading ? (\r\n              <>\r\n                <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                Envoi en cours...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <FiCheckCircle size={18} />\r\n                Soumettre la demande\r\n              </>\r\n            )}\r\n          </Button>\r\n        </FormGroup>\r\n      </form>\r\n\r\n      {showConfirmation && (\r\n        <Toast>\r\n          <FiCheckCircle size={20} />\r\n          {confirmationMessage}\r\n        </Toast>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CardDemandeConge;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}