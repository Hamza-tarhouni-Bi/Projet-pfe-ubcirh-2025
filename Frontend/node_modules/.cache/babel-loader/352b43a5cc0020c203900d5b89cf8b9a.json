{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mega-PC\\\\Projet-pfe-ubcirh25\\\\Frontend\\\\src\\\\components\\\\Cards\\\\CardDemandeConge.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardDemandeConge = () => {\n  _s();\n  // √âtats du formulaire\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    reason: '',\n    type: 'cong√© pay√©',\n    notes: '',\n    medicalFile: null\n  });\n\n  // √âtats de l'interface\n  const [fileName, setFileName] = useState('');\n  const fileInputRef = useRef(null);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [confirmationMessage, setConfirmationMessage] = useState('');\n  const [userData, setUserData] = useState(null);\n  const [token, setToken] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertType, setAlertType] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Types de cong√©s disponibles\n  const congeTypes = [{\n    type: 'cong√© pay√©',\n    title: 'Cong√© Pay√© Standard',\n    description: 'Cong√© annuel r√©mun√©r√©',\n    icon: 'üèñÔ∏è'\n  }, {\n    type: 'rtt',\n    title: 'RTT',\n    description: 'R√©duction du temps de travail',\n    icon: '‚è±Ô∏è'\n  }, {\n    type: 'cong√© maladie',\n    title: 'Cong√© Maladie',\n    description: 'Absence pour raison m√©dicale',\n    icon: 'üè•'\n  }, {\n    type: 'cong√© parental',\n    title: 'Cong√© Parental',\n    description: 'Cong√© pour enfant',\n    icon: 'üë∂'\n  }, {\n    type: 'cong√© familial',\n    title: '√âv√©nement Familial',\n    description: 'Mariage, naissance, d√©c√®s',\n    icon: 'üë™'\n  }, {\n    type: 'cong√© sans solde',\n    title: 'Cong√© Sans Solde',\n    description: 'Absence non r√©mun√©r√©e',\n    icon: 'üìÖ'\n  }, {\n    type: 't√©l√©travail',\n    title: 'T√©l√©travail Exceptionnel',\n    description: 'Travail √† distance',\n    icon: 'üè†'\n  }];\n\n  // Chargement des donn√©es utilisateur au montage\n  useEffect(() => {\n    const userDataStr = localStorage.getItem('userData');\n    const authToken = localStorage.getItem('authToken') || localStorage.getItem('token') || localStorage.getItem('jwt');\n    if (userDataStr) {\n      try {\n        const userData = JSON.parse(userDataStr);\n        setUserData(userData);\n        setIsAuthenticated(!!userData.email);\n        if (authToken) {\n          setToken(authToken);\n        } else {\n          setIsAuthenticated(false);\n        }\n      } catch (e) {\n        console.error(\"Erreur de parsing userData:\", e);\n        setIsAuthenticated(false);\n      }\n    } else {\n      setIsAuthenticated(false);\n    }\n  }, []);\n\n  // Gestion des changements de formulaire\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Gestion des fichiers joints\n  const handleFileChange = e => {\n    var _e$target$files;\n    if ((_e$target$files = e.target.files) !== null && _e$target$files !== void 0 && _e$target$files[0]) {\n      const file = e.target.files[0];\n      setFormData(prev => ({\n        ...prev,\n        medicalFile: file\n      }));\n      setFileName(file.name);\n    }\n  };\n\n  // Suppression du fichier\n  const removeFile = () => {\n    setFormData(prev => ({\n      ...prev,\n      medicalFile: null\n    }));\n    setFileName('');\n    if (fileInputRef.current) fileInputRef.current.value = '';\n  };\n\n  // Calcul du nombre de jours de cong√©\n  const calculateDays = () => {\n    if (!formData.startDate || !formData.endDate) return 0;\n    const start = new Date(formData.startDate);\n    const end = new Date(formData.endDate);\n    return Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\n  };\n\n  // Soumission du formulaire\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setLoginMessage('');\n    setShowAlert(false);\n\n    // Check if email is empty\n    if (!credentials.email) {\n      setError('Veuillez saisir votre adresse email.');\n      return;\n    }\n\n    // Check if password is empty\n    if (!credentials.password) {\n      setError('Veuillez saisir votre mot de passe.');\n      return;\n    }\n\n    // Validate email format\n    if (!validateEmail(credentials.email)) {\n      setError('Veuillez saisir une adresse email valide.');\n      return;\n    }\n\n    // Start login request\n    setIsLoading(true);\n    try {\n      const apiUrl = '/login'; // your login endpoint\n      console.log('Sending login request to:', apiUrl);\n      const response = await axios.post(apiUrl, credentials);\n      console.log('Login response:', response.data);\n\n      // Handle successful login\n      setIsLoading(false);\n      setLoginSuccess(true);\n      if (response.data && response.data.token) {\n        // check if token is present\n        // Save the token in localStorage\n        localStorage.setItem('authToken', response.data.token); // store the token\n\n        // Optionally store user details for easier access\n        localStorage.setItem('userData', JSON.stringify(response.data.personnel));\n        const role = response.data.personnel.role || 'inconnu';\n        const message = `Utilisateur existe. R√¥le: ${role}`;\n        setLoginMessage(message);\n\n        // Store email and role in localStorage if \"Remember me\" is checked\n        if (rememberMe) {\n          localStorage.setItem('userEmail', credentials.email);\n          localStorage.setItem('userRole', role);\n        }\n\n        // Set a short timeout to show the success message before redirecting\n        setTimeout(() => {\n          // Redirect based on role\n          if (role.toLowerCase() === 'personnel') {\n            history.push('/employe');\n          } else if (role.toLowerCase() === 'drh') {\n            history.push('/admin');\n          } else {\n            console.log('Unknown role:', role);\n          }\n        }, 1000);\n      } else {\n        const message = 'Utilisateur existe mais aucun token trouv√©.';\n        setLoginMessage(message);\n        setShowAlert(true);\n      }\n    } catch (err) {\n      setIsLoading(false);\n      setLoginSuccess(false);\n      let errorMessage = \"Erreur de connexion. Veuillez r√©essayer.\";\n      if (err.response) {\n        console.log('Error response:', err.response);\n        if (err.response.data && err.response.data.message) {\n          if (err.response.data.message.includes(\"Incorrect email\")) {\n            errorMessage = \"Utilisateur n'existe pas.\";\n          } else if (err.response.data.message.includes(\"Incorrect Password\")) {\n            errorMessage = \"Mot de passe incorrect.\";\n          } else {\n            errorMessage = err.response.data.message;\n          }\n        } else if (err.response.status === 404) {\n          errorMessage = \"Service non trouv√©. V√©rifiez l'URL de l'API.\";\n        } else if (err.response.status === 500) {\n          errorMessage = \"Erreur serveur. Veuillez r√©essayer plus tard.\";\n        }\n      } else if (err.request) {\n        errorMessage = \"Aucune r√©ponse du serveur. V√©rifiez votre connexion.\";\n      }\n      setError(errorMessage);\n      setShowAlert(true);\n    }\n  };\n\n  // Affichage des messages d'alerte\n  const showAlertMessage = (type, message) => {\n    setAlertType(type);\n    setAlertMessage(message);\n    setShowAlert(true);\n  };\n\n  // R√©initialisation du formulaire\n  const resetForm = () => {\n    setFormData({\n      startDate: '',\n      endDate: '',\n      reason: '',\n      type: 'cong√© pay√©',\n      notes: '',\n      medicalFile: null\n    });\n    setFileName('');\n  };\n\n  // Gestion des erreurs de soumission\n  const handleSubmissionError = error => {\n    console.error('Erreur:', error);\n    let errorMsg = \"Erreur lors de l'envoi\";\n    if (error.response) {\n      if (error.response.status === 401) {\n        errorMsg = \"Session expir√©e. Veuillez vous reconnecter.\";\n        setIsAuthenticated(false);\n      } else {\n        errorMsg = error.response.data.message || error.response.data.error || errorMsg;\n      }\n    }\n    showAlertMessage('error', errorMsg);\n  };\n\n  // Composant d'alerte\n  const Alert = ({\n    type,\n    message,\n    onClose\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '15px',\n      borderRadius: '6px',\n      marginBottom: '20px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      backgroundColor: type === 'error' ? '#fee2e2' : '#dcfce7',\n      color: type === 'error' ? '#b91c1c' : '#16a34a',\n      borderLeft: `4px solid ${type === 'error' ? '#b91c1c' : '#16a34a'}`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginRight: '10px'\n        },\n        children: type === 'error' ? '‚ö†Ô∏è' : '‚úÖ'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      style: {\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        fontSize: '18px',\n        color: 'inherit'\n      },\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n\n  // Styles\n  const styles = {\n    container: {\n      backgroundColor: '#f0f4f8',\n      minHeight: '100vh',\n      padding: '20px',\n      fontFamily: '\"Segoe UI\", Roboto, sans-serif'\n    },\n    mainContent: {\n      maxWidth: '1200px',\n      margin: '0 auto',\n      paddingTop: '3rem'\n    },\n    header: {\n      textAlign: 'center',\n      marginBottom: '40px'\n    },\n    title: {\n      fontSize: '2.2rem',\n      fontWeight: '700',\n      color: '#1e40af',\n      marginBottom: '10px',\n      position: 'relative'\n    },\n    subtitle: {\n      fontSize: '17px',\n      color: '#64748b'\n    },\n    formContainer: {\n      backgroundColor: '#ffffff',\n      borderRadius: '12px',\n      padding: '30px',\n      boxShadow: '0 4px 10px rgba(0,0,0,0.06)'\n    },\n    formGroup: {\n      marginBottom: '20px'\n    },\n    label: {\n      display: 'block',\n      fontSize: '15px',\n      fontWeight: '600',\n      color: '#475569',\n      marginBottom: '8px'\n    },\n    input: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '15px'\n    },\n    select: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '15px'\n    },\n    textarea: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      minHeight: '100px',\n      resize: 'vertical'\n    },\n    button: {\n      width: '100%',\n      padding: '14px',\n      backgroundColor: '#2563eb',\n      color: '#ffffff',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '16px',\n      fontWeight: '600',\n      cursor: 'pointer'\n    },\n    fileInputLabel: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: '12px',\n      border: '1px dashed #3b82f6',\n      borderRadius: '8px',\n      backgroundColor: '#f1f5f9',\n      cursor: 'pointer'\n    },\n    toastMessage: {\n      position: 'fixed',\n      bottom: '30px',\n      left: '50%',\n      transform: 'translateX(-50%)',\n      backgroundColor: '#34d399',\n      color: 'white',\n      borderRadius: '12px',\n      padding: '15px 20px',\n      zIndex: '1000'\n    }\n  };\n  const selectedCongeType = congeTypes.find(c => c.type === formData.type);\n  const needsJustification = ['cong√© maladie', 'cong√© familial'].includes(formData.type);\n  const daysRequested = calculateDays();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.mainContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.title,\n          children: \"Demande de Cong\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.subtitle,\n          children: isAuthenticated ? `Bonjour ${(userData === null || userData === void 0 ? void 0 : userData.prenom) || ''} ${(userData === null || userData === void 0 ? void 0 : userData.nom) || ''}, soumettez votre demande` : \"Veuillez vous connecter pour soumettre une demande\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n        type: alertType,\n        message: alertMessage,\n        onClose: () => setShowAlert(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this), !isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fff9db',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '25px',\n          borderLeft: '4px solid #f59f00'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#d97706',\n            marginTop: 0\n          },\n          children: \"\\u26A0\\uFE0F Authentification requise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#92400e'\n          },\n          children: \"Veuillez vous connecter pour acc\\xE9der \\xE0 cette fonctionnalit\\xE9.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.formContainer,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Type de cong\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"type\",\n              value: formData.type,\n              onChange: handleChange,\n              style: styles.select,\n              required: true,\n              children: congeTypes.map((conge, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: conge.type,\n                children: [conge.icon, \" \", conge.title]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '14px',\n                color: '#64748b',\n                marginTop: '5px'\n              },\n              children: selectedCongeType === null || selectedCongeType === void 0 ? void 0 : selectedCongeType.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), formData.type === 'cong√© maladie' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Justificatif m\\xE9dical *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.fileInputLabel,\n                children: [formData.medicalFile ? 'Changer de fichier' : 'Joindre un justificatif', /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  ref: fileInputRef,\n                  style: {\n                    display: 'none'\n                  },\n                  accept: \".pdf,.jpg,.jpeg,.png\",\n                  onChange: handleFileChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), formData.medicalFile && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  marginTop: '10px',\n                  padding: '10px',\n                  backgroundColor: '#f1f5f9',\n                  borderRadius: '6px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginRight: '10px'\n                  },\n                  children: \"\\uD83D\\uDCC4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: fileName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: removeFile,\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    color: '#ef4444',\n                    cursor: 'pointer'\n                  },\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: [\"Motif \", needsJustification && '*']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"reason\",\n              value: formData.reason,\n              onChange: handleChange,\n              style: styles.input,\n              placeholder: needsJustification ? \"Pr√©cisez le motif (obligatoire)\" : \"Pr√©cisez le motif (facultatif)\",\n              required: needsJustification\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '20px',\n              marginBottom: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Date de d\\xE9but *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"startDate\",\n                value: formData.startDate,\n                onChange: handleChange,\n                style: styles.input,\n                required: true,\n                min: new Date().toISOString().split('T')[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Date de fin *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"endDate\",\n                value: formData.endDate,\n                onChange: handleChange,\n                style: styles.input,\n                required: true,\n                min: formData.startDate || new Date().toISOString().split('T')[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), formData.startDate && formData.endDate && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#e0f2fe',\n              borderRadius: '8px',\n              padding: '14px',\n              marginBottom: '20px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#0369a1',\n                margin: 0\n              },\n              children: [\"Dur\\xE9e: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [daysRequested, \" jours\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Notes compl\\xE9mentaires\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"notes\",\n              value: formData.notes,\n              onChange: handleChange,\n              style: styles.textarea,\n              placeholder: \"Informations additionnelles (facultatif)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '25px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                ...styles.button,\n                opacity: isLoading || !isAuthenticated ? 0.7 : 1,\n                cursor: isLoading || !isAuthenticated ? 'not-allowed' : 'pointer'\n              },\n              disabled: isLoading || !isAuthenticated,\n              children: isLoading ? 'Envoi en cours...' : 'Soumettre la demande'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this), showConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.toastMessage,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: 'white',\n            color: '#34d399',\n            width: '30px',\n            height: '30px',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: \"\\u2713\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: confirmationMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 376,\n    columnNumber: 5\n  }, this);\n};\n_s(CardDemandeConge, \"24CAULwAuu8OAMdGcl5u8V8wGSI=\");\n_c = CardDemandeConge;\nexport default CardDemandeConge;\nvar _c;\n$RefreshReg$(_c, \"CardDemandeConge\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","CardDemandeConge","_s","formData","setFormData","startDate","endDate","reason","type","notes","medicalFile","fileName","setFileName","fileInputRef","showConfirmation","setShowConfirmation","confirmationMessage","setConfirmationMessage","userData","setUserData","token","setToken","isAuthenticated","setIsAuthenticated","showAlert","setShowAlert","alertMessage","setAlertMessage","alertType","setAlertType","isLoading","setIsLoading","congeTypes","title","description","icon","userDataStr","localStorage","getItem","authToken","JSON","parse","email","e","console","error","handleChange","name","value","target","prev","handleFileChange","_e$target$files","files","file","removeFile","current","calculateDays","start","Date","end","Math","ceil","handleSubmit","preventDefault","setError","setLoginMessage","credentials","password","validateEmail","apiUrl","log","response","post","data","setLoginSuccess","setItem","stringify","personnel","role","message","rememberMe","setTimeout","toLowerCase","history","push","err","errorMessage","includes","status","request","showAlertMessage","resetForm","handleSubmissionError","errorMsg","Alert","onClose","style","padding","borderRadius","marginBottom","display","alignItems","justifyContent","backgroundColor","color","borderLeft","children","marginRight","_jsxFileName","lineNumber","columnNumber","onClick","background","border","cursor","fontSize","styles","container","minHeight","fontFamily","mainContent","maxWidth","margin","paddingTop","header","textAlign","fontWeight","position","subtitle","formContainer","boxShadow","formGroup","label","input","width","select","textarea","resize","button","fileInputLabel","toastMessage","bottom","left","transform","zIndex","selectedCongeType","find","c","needsJustification","daysRequested","prenom","nom","marginTop","onSubmit","onChange","required","map","conge","index","ref","accept","flex","placeholder","gridTemplateColumns","gap","min","toISOString","split","opacity","disabled","height","_c","$RefreshReg$"],"sources":["C:/Users/Mega-PC/Projet-pfe-ubcirh25/Frontend/src/components/Cards/CardDemandeConge.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CardDemandeConge = () => {\r\n  // √âtats du formulaire\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    reason: '',\r\n    type: 'cong√© pay√©',\r\n    notes: '',\r\n    medicalFile: null\r\n  });\r\n  \r\n  // √âtats de l'interface\r\n  const [fileName, setFileName] = useState('');\r\n  const fileInputRef = useRef(null);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [confirmationMessage, setConfirmationMessage] = useState('');\r\n  const [userData, setUserData] = useState(null);\r\n  const [token, setToken] = useState('');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [alertType, setAlertType] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Types de cong√©s disponibles\r\n  const congeTypes = [\r\n    { type: 'cong√© pay√©', title: 'Cong√© Pay√© Standard', description: 'Cong√© annuel r√©mun√©r√©', icon: 'üèñÔ∏è' },\r\n    { type: 'rtt', title: 'RTT', description: 'R√©duction du temps de travail', icon: '‚è±Ô∏è' },\r\n    { type: 'cong√© maladie', title: 'Cong√© Maladie', description: 'Absence pour raison m√©dicale', icon: 'üè•' },\r\n    { type: 'cong√© parental', title: 'Cong√© Parental', description: 'Cong√© pour enfant', icon: 'üë∂' },\r\n    { type: 'cong√© familial', title: '√âv√©nement Familial', description: 'Mariage, naissance, d√©c√®s', icon: 'üë™' },\r\n    { type: 'cong√© sans solde', title: 'Cong√© Sans Solde', description: 'Absence non r√©mun√©r√©e', icon: 'üìÖ' },\r\n    { type: 't√©l√©travail', title: 'T√©l√©travail Exceptionnel', description: 'Travail √† distance', icon: 'üè†' }\r\n  ];\r\n\r\n  // Chargement des donn√©es utilisateur au montage\r\n  useEffect(() => {\r\n    const userDataStr = localStorage.getItem('userData');\r\n    const authToken = localStorage.getItem('authToken') || \r\n                     localStorage.getItem('token') || \r\n                     localStorage.getItem('jwt');\r\n\r\n    if (userDataStr) {\r\n      try {\r\n        const userData = JSON.parse(userDataStr);\r\n        setUserData(userData);\r\n        setIsAuthenticated(!!userData.email);\r\n        \r\n        if (authToken) {\r\n          setToken(authToken);\r\n        } else {\r\n          setIsAuthenticated(false);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Erreur de parsing userData:\", e);\r\n        setIsAuthenticated(false);\r\n      }\r\n    } else {\r\n      setIsAuthenticated(false);\r\n    }\r\n  }, []);\r\n\r\n  // Gestion des changements de formulaire\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Gestion des fichiers joints\r\n  const handleFileChange = (e) => {\r\n    if (e.target.files?.[0]) {\r\n      const file = e.target.files[0];\r\n      setFormData(prev => ({ ...prev, medicalFile: file }));\r\n      setFileName(file.name);\r\n    }\r\n  };\r\n\r\n  // Suppression du fichier\r\n  const removeFile = () => {\r\n    setFormData(prev => ({ ...prev, medicalFile: null }));\r\n    setFileName('');\r\n    if (fileInputRef.current) fileInputRef.current.value = '';\r\n  };\r\n\r\n  // Calcul du nombre de jours de cong√©\r\n  const calculateDays = () => {\r\n    if (!formData.startDate || !formData.endDate) return 0;\r\n    const start = new Date(formData.startDate);\r\n    const end = new Date(formData.endDate);\r\n    return Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n  };\r\n\r\n  // Soumission du formulaire\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoginMessage('');\r\n    setShowAlert(false);\r\n    \r\n    // Check if email is empty\r\n    if (!credentials.email) {\r\n      setError('Veuillez saisir votre adresse email.');\r\n      return;\r\n    }\r\n    \r\n    // Check if password is empty\r\n    if (!credentials.password) {\r\n      setError('Veuillez saisir votre mot de passe.');\r\n      return;\r\n    }\r\n    \r\n    // Validate email format\r\n    if (!validateEmail(credentials.email)) {\r\n      setError('Veuillez saisir une adresse email valide.');\r\n      return;\r\n    }\r\n    \r\n    // Start login request\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      const apiUrl = '/login'; // your login endpoint\r\n      console.log('Sending login request to:', apiUrl);\r\n      \r\n      const response = await axios.post(apiUrl, credentials);\r\n      console.log('Login response:', response.data);\r\n      \r\n      // Handle successful login\r\n      setIsLoading(false);\r\n      setLoginSuccess(true);\r\n      \r\n      if (response.data && response.data.token) {  // check if token is present\r\n        // Save the token in localStorage\r\n        localStorage.setItem('authToken', response.data.token);  // store the token\r\n        \r\n        // Optionally store user details for easier access\r\n        localStorage.setItem('userData', JSON.stringify(response.data.personnel));\r\n        \r\n        const role = response.data.personnel.role || 'inconnu';\r\n        const message = `Utilisateur existe. R√¥le: ${role}`;\r\n        setLoginMessage(message);\r\n        \r\n        // Store email and role in localStorage if \"Remember me\" is checked\r\n        if (rememberMe) {\r\n          localStorage.setItem('userEmail', credentials.email);\r\n          localStorage.setItem('userRole', role);\r\n        }\r\n        \r\n        // Set a short timeout to show the success message before redirecting\r\n        setTimeout(() => {\r\n          // Redirect based on role\r\n          if (role.toLowerCase() === 'personnel') {\r\n            history.push('/employe');\r\n          } else if (role.toLowerCase() === 'drh') {\r\n            history.push('/admin');\r\n          } else {\r\n            console.log('Unknown role:', role);\r\n          }\r\n        }, 1000);\r\n      } else {\r\n        const message = 'Utilisateur existe mais aucun token trouv√©.';\r\n        setLoginMessage(message);\r\n        setShowAlert(true);\r\n      }\r\n      \r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setLoginSuccess(false);\r\n      \r\n      let errorMessage = \"Erreur de connexion. Veuillez r√©essayer.\";\r\n      \r\n      if (err.response) {\r\n        console.log('Error response:', err.response);\r\n        \r\n        if (err.response.data && err.response.data.message) {\r\n          if (err.response.data.message.includes(\"Incorrect email\")) {\r\n            errorMessage = \"Utilisateur n'existe pas.\";\r\n          } else if (err.response.data.message.includes(\"Incorrect Password\")) {\r\n            errorMessage = \"Mot de passe incorrect.\";\r\n          } else {\r\n            errorMessage = err.response.data.message;\r\n          }\r\n        } else if (err.response.status === 404) {\r\n          errorMessage = \"Service non trouv√©. V√©rifiez l'URL de l'API.\";\r\n        } else if (err.response.status === 500) {\r\n          errorMessage = \"Erreur serveur. Veuillez r√©essayer plus tard.\";\r\n        }\r\n      } else if (err.request) {\r\n        errorMessage = \"Aucune r√©ponse du serveur. V√©rifiez votre connexion.\";\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n  \r\n  // Affichage des messages d'alerte\r\n  const showAlertMessage = (type, message) => {\r\n    setAlertType(type);\r\n    setAlertMessage(message);\r\n    setShowAlert(true);\r\n  };\r\n\r\n  // R√©initialisation du formulaire\r\n  const resetForm = () => {\r\n    setFormData({\r\n      startDate: '',\r\n      endDate: '',\r\n      reason: '',\r\n      type: 'cong√© pay√©',\r\n      notes: '',\r\n      medicalFile: null\r\n    });\r\n    setFileName('');\r\n  };\r\n\r\n  // Gestion des erreurs de soumission\r\n  const handleSubmissionError = (error) => {\r\n    console.error('Erreur:', error);\r\n    let errorMsg = \"Erreur lors de l'envoi\";\r\n    \r\n    if (error.response) {\r\n      if (error.response.status === 401) {\r\n        errorMsg = \"Session expir√©e. Veuillez vous reconnecter.\";\r\n        setIsAuthenticated(false);\r\n      } else {\r\n        errorMsg = error.response.data.message || error.response.data.error || errorMsg;\r\n      }\r\n    }\r\n    \r\n    showAlertMessage('error', errorMsg);\r\n  };\r\n\r\n  // Composant d'alerte\r\n  const Alert = ({ type, message, onClose }) => (\r\n    <div style={{\r\n      padding: '15px',\r\n      borderRadius: '6px',\r\n      marginBottom: '20px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      backgroundColor: type === 'error' ? '#fee2e2' : '#dcfce7',\r\n      color: type === 'error' ? '#b91c1c' : '#16a34a',\r\n      borderLeft: `4px solid ${type === 'error' ? '#b91c1c' : '#16a34a'}`\r\n    }}>\r\n      <div>\r\n        <span style={{ marginRight: '10px' }}>\r\n          {type === 'error' ? '‚ö†Ô∏è' : '‚úÖ'}\r\n        </span>\r\n        {message}\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        style={{\r\n          background: 'none',\r\n          border: 'none',\r\n          cursor: 'pointer',\r\n          fontSize: '18px',\r\n          color: 'inherit'\r\n        }}\r\n      >\r\n        √ó\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // Styles\r\n  const styles = {\r\n    container: {\r\n      backgroundColor: '#f0f4f8',\r\n      minHeight: '100vh',\r\n      padding: '20px',\r\n      fontFamily: '\"Segoe UI\", Roboto, sans-serif'\r\n    },\r\n    mainContent: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      paddingTop: '3rem'\r\n    },\r\n    header: {\r\n      textAlign: 'center',\r\n      marginBottom: '40px'\r\n    },\r\n    title: {\r\n      fontSize: '2.2rem',\r\n      fontWeight: '700',\r\n      color: '#1e40af',\r\n      marginBottom: '10px',\r\n      position: 'relative'\r\n    },\r\n    subtitle: {\r\n      fontSize: '17px',\r\n      color: '#64748b'\r\n    },\r\n    formContainer: {\r\n      backgroundColor: '#ffffff',\r\n      borderRadius: '12px',\r\n      padding: '30px',\r\n      boxShadow: '0 4px 10px rgba(0,0,0,0.06)'\r\n    },\r\n    formGroup: {\r\n      marginBottom: '20px'\r\n    },\r\n    label: {\r\n      display: 'block',\r\n      fontSize: '15px',\r\n      fontWeight: '600',\r\n      color: '#475569',\r\n      marginBottom: '8px'\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '12px',\r\n      border: '1px solid #e2e8f0',\r\n      borderRadius: '8px',\r\n      fontSize: '15px'\r\n    },\r\n    select: {\r\n      width: '100%',\r\n      padding: '12px',\r\n      border: '1px solid #e2e8f0',\r\n      borderRadius: '8px',\r\n      fontSize: '15px'\r\n    },\r\n    textarea: {\r\n      width: '100%',\r\n      padding: '12px',\r\n      border: '1px solid #e2e8f0',\r\n      borderRadius: '8px',\r\n      minHeight: '100px',\r\n      resize: 'vertical'\r\n    },\r\n    button: {\r\n      width: '100%',\r\n      padding: '14px',\r\n      backgroundColor: '#2563eb',\r\n      color: '#ffffff',\r\n      border: 'none',\r\n      borderRadius: '8px',\r\n      fontSize: '16px',\r\n      fontWeight: '600',\r\n      cursor: 'pointer'\r\n    },\r\n    fileInputLabel: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '12px',\r\n      border: '1px dashed #3b82f6',\r\n      borderRadius: '8px',\r\n      backgroundColor: '#f1f5f9',\r\n      cursor: 'pointer'\r\n    },\r\n    toastMessage: {\r\n      position: 'fixed',\r\n      bottom: '30px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      backgroundColor: '#34d399',\r\n      color: 'white',\r\n      borderRadius: '12px',\r\n      padding: '15px 20px',\r\n      zIndex: '1000'\r\n    }\r\n  };\r\n\r\n  const selectedCongeType = congeTypes.find(c => c.type === formData.type);\r\n  const needsJustification = ['cong√© maladie', 'cong√© familial'].includes(formData.type);\r\n  const daysRequested = calculateDays();\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.mainContent}>\r\n        <div style={styles.header}>\r\n          <h1 style={styles.title}>Demande de Cong√©</h1>\r\n          <p style={styles.subtitle}>\r\n            {isAuthenticated \r\n              ? `Bonjour ${userData?.prenom || ''} ${userData?.nom || ''}, soumettez votre demande`\r\n              : \"Veuillez vous connecter pour soumettre une demande\"}\r\n          </p>\r\n        </div>\r\n\r\n        {showAlert && (\r\n          <Alert \r\n            type={alertType} \r\n            message={alertMessage}\r\n            onClose={() => setShowAlert(false)} \r\n          />\r\n        )}\r\n\r\n        {!isAuthenticated && (\r\n          <div style={{\r\n            backgroundColor: '#fff9db',\r\n            borderRadius: '8px',\r\n            padding: '20px',\r\n            marginBottom: '25px',\r\n            borderLeft: '4px solid #f59f00'\r\n          }}>\r\n            <h3 style={{ color: '#d97706', marginTop: 0 }}>\r\n              ‚ö†Ô∏è Authentification requise\r\n            </h3>\r\n            <p style={{ color: '#92400e' }}>\r\n              Veuillez vous connecter pour acc√©der √† cette fonctionnalit√©.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <div style={styles.formContainer}>\r\n          <form onSubmit={handleSubmit}>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Type de cong√©</label>\r\n              <select\r\n                name=\"type\"\r\n                value={formData.type}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n                required\r\n              >\r\n                {congeTypes.map((conge, index) => (\r\n                  <option key={index} value={conge.type}>\r\n                    {conge.icon} {conge.title}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <p style={{ fontSize: '14px', color: '#64748b', marginTop: '5px' }}>\r\n                {selectedCongeType?.description}\r\n              </p>\r\n            </div>\r\n\r\n            {formData.type === 'cong√© maladie' ? (\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Justificatif m√©dical *</label>\r\n                <div>\r\n                  <label style={styles.fileInputLabel}>\r\n                    {formData.medicalFile ? 'Changer de fichier' : 'Joindre un justificatif'}\r\n                    <input\r\n                      type=\"file\"\r\n                      ref={fileInputRef}\r\n                      style={{ display: 'none' }}\r\n                      accept=\".pdf,.jpg,.jpeg,.png\"\r\n                      onChange={handleFileChange}\r\n                      required\r\n                    />\r\n                  </label>\r\n                  {formData.medicalFile && (\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      marginTop: '10px',\r\n                      padding: '10px',\r\n                      backgroundColor: '#f1f5f9',\r\n                      borderRadius: '6px'\r\n                    }}>\r\n                      <span style={{ marginRight: '10px' }}>üìÑ</span>\r\n                      <span style={{ flex: 1 }}>{fileName}</span>\r\n                      <button \r\n                        type=\"button\" \r\n                        onClick={removeFile}\r\n                        style={{\r\n                          background: 'none',\r\n                          border: 'none',\r\n                          color: '#ef4444',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        ‚úï\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>\r\n                  Motif {needsJustification && '*'}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"reason\"\r\n                  value={formData.reason}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                  placeholder={needsJustification \r\n                    ? \"Pr√©cisez le motif (obligatoire)\" \r\n                    : \"Pr√©cisez le motif (facultatif)\"}\r\n                  required={needsJustification}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Date de d√©but *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"startDate\"\r\n                  value={formData.startDate}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                  required\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                />\r\n              </div>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Date de fin *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"endDate\"\r\n                  value={formData.endDate}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                  required\r\n                  min={formData.startDate || new Date().toISOString().split('T')[0]}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {formData.startDate && formData.endDate && (\r\n              <div style={{ \r\n                backgroundColor: '#e0f2fe',\r\n                borderRadius: '8px',\r\n                padding: '14px',\r\n                marginBottom: '20px'\r\n              }}>\r\n                <p style={{ color: '#0369a1', margin: 0 }}>\r\n                  Dur√©e: <strong>{daysRequested} jours</strong>\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Notes compl√©mentaires</label>\r\n              <textarea\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleChange}\r\n                style={styles.textarea}\r\n                placeholder=\"Informations additionnelles (facultatif)\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginTop: '25px' }}>\r\n              <button \r\n                type=\"submit\" \r\n                style={{\r\n                  ...styles.button,\r\n                  opacity: isLoading || !isAuthenticated ? 0.7 : 1,\r\n                  cursor: isLoading || !isAuthenticated ? 'not-allowed' : 'pointer'\r\n                }}\r\n                disabled={isLoading || !isAuthenticated}\r\n              >\r\n                {isLoading ? 'Envoi en cours...' : 'Soumettre la demande'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {showConfirmation && (\r\n        <div style={styles.toastMessage}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <span style={{\r\n              backgroundColor: 'white',\r\n              color: '#34d399',\r\n              width: '30px',\r\n              height: '30px',\r\n              borderRadius: '50%',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}>\r\n              ‚úì\r\n            </span>\r\n            <p>{confirmationMessage}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardDemandeConge;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}